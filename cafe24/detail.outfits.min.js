var FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS=FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS||{styleNo:1,totalCount:0,prev:function(){if(this.styleNo>1){this.styleNo--;document.getElementById("app-fashionade-styleoutfits-mo").className="style_"+this.styleNo;document.getElementById("app-fashionade-styleoutfits-mo-style-no").innerHTML=this.styleNo}},next:function(){if(this.styleNo<this.totalCount){this.styleNo++;document.getElementById("app-fashionade-styleoutfits-mo").className="style_"+this.styleNo;document.getElementById("app-fashionade-styleoutfits-mo-style-no").innerHTML=this.styleNo}},on:function(){var _=document.getElementById("app-fashionade-styleoutfits-mo");if(_.className.indexOf("on")<0){_.className+=" on"}},off:function(){var _=document.getElementById("app-fashionade-styleoutfits-mo");if(_.className.indexOf("on")>-1){_.className=_.className.replace(" on","")}}};(function(CAFE24API){var config={api:{url:getProductId()?"https://styleapi.fashionade.ai/api/style-outfits":"/api/landing/style-outfits",params:{apiKey:getApiKey(),productId:getProductId(),uuid:getMadUuid()}},logs:{sdk:"outfits",apiKey:getApiKey(),uuid:getMadUuid(),userAgent:navigator.userAgent,lang:navigator.language,page:location.href,referrer:document.referrer,deviceTime:new Date,windowName:window.name,ext:{source:"CAFE24",mallId:CAFE24API.MALL_ID,productId:getProductId()},type:null,eventPosition:null,styleNo:null,originalItemId:null,recommendId:null,recommendItemId:null}};var link=document.createElement("link");link.href="https://fashionade2020.github.io/plugin/cafe24/fashionade.css";link.type="text/css";link.rel="stylesheet";link.media="screen,print";document.getElementsByTagName("head")[0].appendChild(link);var get=function(url,cb){var xmlhttp;xmlhttp=new XMLHttpRequest;xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){cb(eval(xmlhttp.responseText))}};xmlhttp.open("GET",url,true);xmlhttp.send()};var post=function(url,obj){var xmlhttp;xmlhttp=new XMLHttpRequest;xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){}};xmlhttp.open("POST",url,true);xmlhttp.setRequestHeader("Content-Type","application/json");xmlhttp.send(JSON.stringify(obj))};var utils={jsonToParams:function(data){var params="?";for(var prop in data){params+=encodeURIComponent(prop)+"="+encodeURIComponent(data[prop])+"&"}return params.substring(0,params.length-1)},thousandComma:function numberWithCommas(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}};var postLogs=function(addLogs){var logs=FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS.config.logs;logs.type=addLogs.type||null;logs.eventPosition=addLogs.eventPosition||null;logs.styleNo=addLogs.styleNo||null;logs.originalItemId=addLogs.originalItemId||null;logs.recommendId=addLogs.recommendId||null;logs.recommendItemId=addLogs.recommendItemId||null;post("https://admin.fashionade.ai/logs",logs)};get(config.api.url+utils.jsonToParams(config.api.params),(function(d){FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS.totalCount=d.length;var _="";if(location.host.match(/^m\./)){_='<div id="app-fashionade-styleoutfits-mo" class="style_1">            <h4>이 스타일 어떠세요?</h4>        <div class="count">스타일 <span id="app-fashionade-styleoutfits-mo-style-no">1</span>/<span id="app-fashionade-styleoutfits-mo-style-totalno">'+d.length+'</span></div>        <div class="dimmed"></div>        <button class="closed" onClick="FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS.off()">X</button>        <ul class="wrap">';for(var i=0,l=d.length;i<l;i++){_+='<li class="stylelist_'+(i+1)+'" style="background-image:url('+d[i].styleOutImageUrl+')" onClick="FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS.on()"><ul class="item_list">';for(var j=0,item=d[i].recommendItems,k=item.length;j<k;j++){_+="<li onClick=\"(function() {FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS.postLogs({type: 'click', eventPosition: 'ITEM_"+(i+1)+"_"+(j+i)+"' ,styleNo: "+d[i].styleNo+",originalItemId: "+d[i].originalItem.itemId+",recommendId: "+item[j].itemId+",recommendItemId: "+item[j].recommendId+"});"+"window.open('"+item[j].detailUrl+"', target='blank');"+'})()">';_+='<div class="thumb" style="background-image:url('+item[j].imageUrl+')"></div>';if(item[j].productId===config.api.params.productId){_+='<span class="current_item">현재 상품</span>'}_+='<strong class="name">'+item[j].name+"</strong>";_+='<span class="price">'+utils.thousandComma(item[j].price)+"원</span>";_+='<button class="btn_purchase">구매</button>';_+="</li>"}_+="</ul></li>"}_+='</ul><button class="prev" onClick="FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS.prev()">이전 스타일</button><button class="next" onClick="FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS.next()">다음 스타일</button></div>'}else{_='<div id="app-fashionade-styleoutfits-pc"><h4>이 스타일 어떠세요?</h4><ul>';for(var i=0,l=d.length;i<l;i++){_+='<li style="background-image:url('+d[i].styleOutImageUrl+')"><div class="dimmed"></div><ul class="item_list">';for(var j=0,item=d[i].recommendItems,k=item.length;j<k;j++){_+="<li onClick=\"(function() {FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS.postLogs({type: 'click', eventPosition: 'ITEM_"+(i+1)+"_"+(j+i)+"' ,styleNo: "+d[i].styleNo+",originalItemId: "+d[i].originalItem.itemId+",recommendId: "+item[j].itemId+",recommendItemId: "+item[j].recommendId+"});"+"window.open('"+item[j].detailUrl+"', target='blank');"+'})()">';_+='<div class="thumb" style="background-image:url('+item[j].imageUrl+')"></div>';if(item[j].productId===config.api.params.productId){_+='<span class="current_item">현재 상품</span>'}_+='<strong class="name">'+item[j].name+"</strong>";_+='<span class="price">'+utils.thousandComma(item[j].price)+"원</span>";_+='<button class="btn_purchase">구매</button>';_+="</li>"}_+="</ul></li>"}_+="</ul></div>"}setTimeout((function(){$("#prdDetail").before(_)}),777)}));function getProductId(){if(document.querySelector("meta[property='product:productId']")){return document.querySelector("meta[property='product:productId']").getAttribute("content")}else if(document.querySelector(".prdList li:first-child a")){var url=document.querySelector(".prdList li:first-child a").getAttribute("href");if(getParameterByName("product_no",url)){return getParameterByName("product_no",url)}else{return document.querySelector(".prdList li:first-child a").getAttribute("href").split("/")[3]}}else{return null}}function getMadUuid(){if(localStorage.getItem("madUuid")){return localStorage.getItem("madUuid")}else{var madUuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var randomNumber=Math.random()*16|0;var digit=c==="x"?randomNumber:randomNumber&3|8;return digit.toString(16)}));localStorage.setItem("madUuid",madUuid);return madUuid}}function getParameterByName(name,url){name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return"";return decodeURIComponent(results[2].replace(/\+/g," "))}function getApiKey(){var scriptTags=document.scripts;var scriptLength=scriptTags.length;for(var i=scriptLength-1;i>=0;i--){if(scriptTags[i].getAttribute("src").startsWith("https://fashionade2020.github.io")){return getParameterByName("key",scriptTags[i].getAttribute("src"))}}}if(!FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS){window.addEventListener("load",(function(){if(document.getElementsByClassName("actionCart")){for(var i=0,els=document.getElementsByClassName("actionCart");i<els.length;i++){var el=els[i];el.addEventListener("click",(function(){postLogs({type:"click",eventPosition:"CART_"+(i+1)})}))}}if(document.getElementsByClassName("actionWish")){for(var i=0,els=document.getElementsByClassName("actionWish");i<els.length;i++){var el=els[i];el.addEventListener("click",(function(){postLogs({type:"click",eventPosition:"WISH_"+(i+1)})}))}}if(document.querySelectorAll("[data-style-ai]")){for(var i=0,els=document.querySelectorAll("[data-style-ai]");i<els.length;i++){var el=els[i];el.addEventListener("click",(function(ev){postLogs({type:"click",eventPosition:ev.target.getAttribute("data-style-ai")+"_"+(i+1)})}))}}}))}FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS.config=config;FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS.postLogs=postLogs;FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS.postLogs({type:"init"})})(CAFE24API.init("I2ThQX8mI5QvFCdxbijDFB"));