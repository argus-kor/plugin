(function(CAFE24API){function getMadUuid(){if(localStorage.getItem("madUuid")){return localStorage.getItem("madUuid")}else{var madUuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var randomNumber=Math.random()*16|0;var digit=c==="x"?randomNumber:randomNumber&3|8;return digit.toString(16)}));localStorage.setItem("madUuid",madUuid);return madUuid}}function getParameterByName(name,url){name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return"";return decodeURIComponent(results[2].replace(/\+/g," "))}function getApiKey(){var scriptTags=document.scripts;var scriptLength=scriptTags.length;for(var i=scriptLength-1;i>=0;i--){if(scriptTags[i].getAttribute("src").startsWith("https://fashionade2020.github.io")){return getParameterByName("key",scriptTags[i].getAttribute("src"))}}}CAFE24API.getCustomerIDInfo((function(err,res){var userId="unknown";if(res.id){if(res.id.member_id){userId=res.id.member_id}else{userId=res.id.guest_id}}CAFE24API.getCartList((function(err,res){if(!err){var uuid=getMadUuid();var apiKey=getApiKey();if(res.carts){var logItems=[];var itemLength=res.carts.length;var currency=CAFE24.SHOP_CURRENCY_FORMAT.getCurrencyCode();for(var i=0;i<itemLength;i++){var item=res.carts[i];var logItem={productId:item.product_no.toString(),currency:currency,price:parseInt(item.product_price),saleCurrency:currency,salePrice:parseInt(item.product_price),qty:item.quantity,totalAmount:item.product_price*item.quantity};logItems.push(logItem)}var log={type:"addCart",apiKey:apiKey,uuid:uuid,userAgent:navigator.userAgent,lang:navigator.language,page:location.href,referrer:document.referrer,deviceTime:new Date,ext:{userId:userId,source:"CAFE24"},items:logItems};var xmlHttp=new XMLHttpRequest;xmlHttp.open("POST","https://logs.fashionade.ai/logs",true);xmlHttp.send(JSON.stringify(log))}}}))}))})(CAFE24API.init("I2ThQX8mI5QvFCdxbijDFB"));