var FASHIONADE_FRONT_PRODUCT_LANDING_WITH=FASHIONADE_FRONT_PRODUCT_LANDING_WITH||{styleNo:1,totalCount:0,prev:function(){if(this.styleNo>1){this.styleNo--;document.getElementById("app-fashionade-stylewith-pc").className="style_"+this.styleNo}},next:function(){if(this.styleNo<this.totalCount){this.styleNo++;document.getElementById("app-fashionade-stylewith-pc").className="style_"+this.styleNo}},on:function(no){this.styleNo=no;document.getElementById("app-fashionade-stylewith-pc").className="style_"+this.styleNo},loopNext:function(){if(this.styleNo<this.totalCount){this.styleNo++}else if(this.styleNo===this.totalCount){this.styleNo=1}document.getElementById("app-fashionade-stylewith-mo-style-no").innerHTML=this.styleNo;document.getElementById("app-fashionade-stylewith-mo").className="style_"+this.styleNo}};(function(CAFE24API){var config={api:{url:getProductId()?"https://styleapi.fashionade.ai/api/style-with":"/api/landing/style-with",params:{apiKey:getApiKey(),productId:getProductId(),madUuid:getMadUuid()}},logs:{sdk:"with",apiKey:getApiKey(),uuid:getMadUuid(),userAgent:navigator.userAgent,lang:navigator.language,page:location.href,referrer:document.referrer,deviceTime:new Date,windowName:window.name,ext:{source:"CAFE24",mallId:CAFE24API.MALL_ID,productId:getProductId()},type:null,eventPosition:null}};var link=document.createElement("link");link.href="https://fashionade2020.github.io/plugin/cafe24/fashionade.css";link.type="text/css";link.rel="stylesheet";link.media="screen,print";document.getElementsByTagName("head")[0].appendChild(link);var get=function(url,cb){var xmlhttp;xmlhttp=new XMLHttpRequest;xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){cb(eval(xmlhttp.responseText))}};xmlhttp.open("GET",url,true);xmlhttp.send()};var post=function(url,obj){var xmlhttp;xmlhttp=new XMLHttpRequest;xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){}};xmlhttp.open("POST",url,true);xmlhttp.setRequestHeader("Content-Type","application/json");xmlhttp.send(JSON.stringify(obj))};var utils={jsonToParams:function(data){var params="?";for(var prop in data){params+=encodeURIComponent(prop)+"="+encodeURIComponent(data[prop])+"&"}return params.substring(0,params.length-1)},thousandComma:function numberWithCommas(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}};var postLogs=function(addLogs){var logs=FASHIONADE_FRONT_PRODUCT_LANDING_WITH.config.logs;logs.type=addLogs.type||null;logs.eventPosition=addLogs.eventPosition||null;post("https://admin.fashionade.ai/logs",logs)};get(config.api.url+utils.jsonToParams(config.api.params),(function(d){FASHIONADE_FRONT_PRODUCT_LANDING_WITH.totalCount=d.length;var _="";if(location.host.match(/^m\./)){_='<div id="app-fashionade-stylewith-mo" class="style_1">                <h4>이 스타일 어떠세요?</h4>                    <div class="count">스타일 <span id="app-fashionade-stylewith-mo-style-no">1</span>/<span id="app-fashionade-stylewith-mo-style-totalno">'+d.length+'</span></div>                    <div class="wrap">';for(var i=0,l=d.length;i<l;i++){_+='<div class="content content_'+(i+1)+'"><ul>';for(var j=0,item=d[i].items,k=item.length;j<k;j++){_+="<li onClick=\"(function() {FASHIONADE_FRONT_PRODUCT_LANDING_WITH.postLogs({type: 'click', eventPosition: 'ITEM_"+(i+1)+"_"+(j+i)+"'});"+"window.open('"+item[j].detailUrl+"', target='blank');"+'})()"><div class="thumb"><img src="'+item[j].imageUrl+'"/>';if(item[j].productId===config.api.params.productId){_+='<span class="current_item">현재 상품</span>'}_+="</div>";_+='<dl><dd class="name">'+item[j].name+"</dd>";_+='<dd class="price">'+utils.thousandComma(item[j].price)+"원";if(item[j].originalPrice!==null&&item[j].originalPrice!==0&&item[j].originalPrice>item[j].price){_+='<span class="original_price">'+utils.thousandComma(item[j].originalPrice)+"원</span>"}_+="</dd></dl></li>"}_+='<li class="last" onClick="FASHIONADE_FRONT_PRODUCT_LANDING_WITH.loopNext()"><div>다음<br/>스타일</div></li>';_+="</ul></div>"}_+="</div>"}else{_='<div id="app-fashionade-stylewith-pc" class="style_1"><h4>이 스타일 어떠세요?</h4><div class="wrap"><ul class="tab">';for(var i=0,l=d.length;i<l;i++){_+='<li class="tab_'+(i+1)+'" onClick="FASHIONADE_FRONT_PRODUCT_LANDING_WITH.on(\''+(i+1)+"')\">"+d[i].name+"</li>"}_+="</ul>";for(var i=0,l=d.length;i<l;i++){_+='<div class="content content_'+(i+1)+'"><ul>';for(var j=0,item=d[i].items,k=item.length;j<k;j++){_+="<li onClick=\"(function() {FASHIONADE_FRONT_PRODUCT_LANDING_WITH.postLogs({type: 'click', eventPosition: 'ITEM_"+(i+1)+"_"+(j+i)+"'});"+"window.open('"+item[j].detailUrl+"', target='blank');"+'})()"><div class="thumb"><img src="'+item[j].imageUrl+'"/>';if(item[j].productId===config.api.params.productId){_+='<span class="current_item">현재 상품</span>'}_+="</div>";_+='<dl><dt class="brand">'+item[j].brand+"</dt>";_+='<dd class="name">'+item[j].name+"</dd>";_+='<dd class="price">'+utils.thousandComma(item[j].price)+"원</dd>";if(item[j].originalPrice!==null&&item[j].originalPrice!==0&&item[j].originalPrice>item[j].price){_+='<dd class="original_price">'+utils.thousandComma(item[j].originalPrice)+"원</dd>"}_+="</dl></li>"}_+="</ul></div>"}_+='</div><button class="prev" onClick="FASHIONADE_FRONT_PRODUCT_LANDING_WITH.prev()">이전 스타일</button><button class="next" onclick="FASHIONADE_FRONT_PRODUCT_LANDING_WITH.next()">다음 스타일</button></div>'}setTimeout((function(){$("#prdDetail").before(_)}),777)}));function getProductId(){if(document.querySelector("meta[property='product:productId']")){return document.querySelector("meta[property='product:productId']").getAttribute("content")}else if(document.querySelector(".prdList li:first-child a")){var url=document.querySelector(".prdList li:first-child a").getAttribute("href");if(getParameterByName("product_no",url)){return getParameterByName("product_no",url)}else{return document.querySelector(".prdList li:first-child a").getAttribute("href").split("/")[3]}}else{return null}}function getMadUuid(){if(localStorage.getItem("madUuid")){return localStorage.getItem("madUuid")}else{var madUuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var randomNumber=Math.random()*16|0;var digit=c==="x"?randomNumber:randomNumber&3|8;return digit.toString(16)}));localStorage.setItem("madUuid",madUuid);return madUuid}}function getParameterByName(name,url){name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return"";return decodeURIComponent(results[2].replace(/\+/g," "))}function getApiKey(){var scriptTags=document.scripts;var scriptLength=scriptTags.length;for(var i=scriptLength-1;i>=0;i--){if(scriptTags[i].getAttribute("src").startsWith("https://fashionade2020.github.io")){return getParameterByName("key",scriptTags[i].getAttribute("src"))}}}if(!FASHIONADE_FRONT_PRODUCT_DETAIL_OUTFITS){window.addEventListener("load",(function(){if(document.getElementsByClassName("actionCart")){for(var i=0,els=document.getElementsByClassName("actionCart");i<els.length;i++){var el=els[i];el.addEventListener("click",(function(){postLogs({type:"click",eventPosition:"CART_"+(i+1)})}))}}if(document.getElementsByClassName("actionWish")){for(var i=0,els=document.getElementsByClassName("actionWish");i<els.length;i++){var el=els[i];el.addEventListener("click",(function(){postLogs({type:"click",eventPosition:"WISH_"+(i+1)})}))}}if(document.querySelectorAll("[data-style-ai]")){for(var i=0,els=document.querySelectorAll("[data-style-ai]");i<els.length;i++){var el=els[i];el.addEventListener("click",(function(ev){postLogs({type:"click",eventPosition:ev.target.getAttribute("data-style-ai")+"_"+(i+1)})}))}}}))}FASHIONADE_FRONT_PRODUCT_LANDING_WITH.config=config;FASHIONADE_FRONT_PRODUCT_LANDING_WITH.postLogs=postLogs;FASHIONADE_FRONT_PRODUCT_LANDING_WITH.postLogs({type:"init"})})(CAFE24API.init("I2ThQX8mI5QvFCdxbijDFB"));